<!doctype html>
<html lang="en">
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <title>Codingal Student</title>
    <style>
        body { font-family: system-ui, -apple-system, "Segoe UI", Roboto, Arial; margin: 24px; background:#f7f9fc; color:#111; }
        header { display:flex; align-items:center; gap:12px; margin-bottom:18px; }
        h1 { font-size:1.25rem; margin:0; }
        .card { background:#fff; border:1px solid #e2e8f0; border-radius:8px; padding:16px; box-shadow:0 1px 2px rgba(0,0,0,.04); }
        form { display:grid; gap:8px; grid-template-columns: 1fr 120px; align-items:center; }
        label { font-size:.85rem; color:#334155; }
        input[type="text"], input[type="number"] { padding:8px; border:1px solid #cbd5e1; border-radius:6px; width:100%; }
        button { padding:8px 12px; border:0; background:#2563eb; color:#fff; border-radius:6px; cursor:pointer; }
        ul { list-style:none; padding:0; margin:12px 0 0 0; display:grid; gap:8px; }
        li { display:flex; justify-content:space-between; gap:12px; padding:8px; border:1px dashed #e6eefc; border-radius:6px; background:#fbfdff; }
        .meta { color:#475569; font-size:.9rem; }
        .actions button { background:#ef4444; padding:6px 8px; border-radius:6px; }
        .small { font-size:.85rem; color:#64748b; }
        @media (max-width:480px){ form { grid-template-columns: 1fr; } .actions { display:flex; gap:8px; } }
    </style>
</head>
<body>
    <header>
        <img src="" alt="" width="44" height="44" style="background:#e2e8f0;border-radius:8px;"/>
        <div>
            <h1>Codingal — Student Dashboard</h1>
            <div class="small">Add students and track basic info</div>
        </div>
    </header>

    <main class="card" id="app">
        <form id="studentForm" onsubmit="return false;">
            <div>
                <label for="name">Student name</label>
                <input id="name" type="text" placeholder="e.g. Asha Rao" required />
            </div>
            <div>
                <label for="age">Age</label>
                <input id="age" type="number" min="4" max="18" placeholder="8" required />
            </div>
            <div>
                <label for="grade">Grade / Class</label>
                <input id="grade" type="text" placeholder="Grade 3" />
            </div>
            <div style="display:flex; align-items:end; gap:8px;">
                <button id="addBtn" type="button">Add student</button>
                <button id="clearBtn" type="button" style="background:#64748b">Clear</button>
            </div>
        </form>

        <section style="margin-top:14px;">
            <h2 style="font-size:1rem; margin:0 0 8px 0;">Students</h2>
            <ul id="studentsList" aria-live="polite"></ul>
            <div id="empty" class="small">No students yet.</div>
        </section>
    </main>

    <script>
        const nameInput = document.getElementById('name');
        const ageInput = document.getElementById('age');
        const gradeInput = document.getElementById('grade');
        const addBtn = document.getElementById('addBtn');
        const clearBtn = document.getElementById('clearBtn');
        const list = document.getElementById('studentsList');
        const empty = document.getElementById('empty');

        const students = JSON.parse(localStorage.getItem('codingal_students') || '[]');

        function render() {
            list.innerHTML = '';
            if (students.length === 0) {
                empty.style.display = 'block';
                return;
            }
            empty.style.display = 'none';
            students.forEach((s, i) => {
                const li = document.createElement('li');
                li.innerHTML = `
                    <div>
                        <div style="font-weight:600">${escapeHtml(s.name)}</div>
                        <div class="meta">${escapeHtml(s.grade || '—')} · Age ${s.age}</div>
                    </div>
                    <div class="actions">
                        <button type="button" data-index="${i}">Remove</button>
                    </div>
                `;
                list.appendChild(li);
            });
        }

        function save() {
            localStorage.setItem('codingal_students', JSON.stringify(students));
            render();
        }

        addBtn.addEventListener('click', () => {
            const name = nameInput.value.trim();
            const age = parseInt(ageInput.value, 10);
            const grade = gradeInput.value.trim();
            if (!name) { alert('Enter student name'); nameInput.focus(); return; }
            if (!age || age < 4) { alert('Enter a valid age (>=4)'); ageInput.focus(); return; }
            students.push({ name, age, grade });
            nameInput.value = ''; ageInput.value = ''; gradeInput.value = '';
            save();
        });

        clearBtn.addEventListener('click', () => {
            nameInput.value = ''; ageInput.value = ''; gradeInput.value = '';
            nameInput.focus();
        });

        list.addEventListener('click', (e) => {
            const btn = e.target.closest('button');
            if (!btn) return;
            const idx = Number(btn.dataset.index);
            if (Number.isFinite(idx)) {
                students.splice(idx, 1);
                save();
            }
        });

        // simple XSS-safe escape for innerText use
        function escapeHtml(str) {
            return String(str).replace(/[&<>"']/g, (m) => ({'&':'&amp;','<':'&lt;','>':'&gt;','"':'&quot;',"'":"&#39;"}[m]));
        }

        render();
    </script>
</body>
</html>